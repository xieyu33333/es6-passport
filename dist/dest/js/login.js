!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("vendors")):"function"==typeof define&&define.amd?define(["vendors"],n):"object"==typeof exports?exports.pass=n(require("vendors")):e.pass=n(e.vendors)}(this,function(e){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}([function(e,n){e.exports=vendors},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.login=void 0,t(2);var o=t(8),a=r(o),i=t(9),s=r(i),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={loginBtnText:"登 录",accountPlaceHolder:"手机号/邮箱/账号",accountLabel:"",passwordPlaceHolder:"请填写密码",passwordLabel:"",verifyPlaceHolder:"验证码",accountMax:"30",passwordMax:"30",showRemember:!0,autocomplete:!1},t=Object.assign(n,e);(0,a.default)(t),(0,s.default)(t)};n.login=c},function(e,n,t){"use strict";t(3),t(4),t(5),t(6),t(7)},function(e,n,t){e.exports=t(0)(125)},function(e,n,t){e.exports=t(0)(126)},function(e,n,t){e.exports=t(0)(328)},function(e,n,t){e.exports=t(0)(332)},function(e,n,t){e.exports=t(0)(333)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.showRemember?"block":"none",t=e.autocomplete?"":'<div id="no-autocomplete">\n        <input type="text">\n        <input type="password">\n    </div>',r=e.autocomplete?"on":"off";return'\n        <div id="login-wrapper">\n            <p id="login-error" class="login-error"></p>\n            <form id="login-form" onsubmit="return false">\n                '+t+'\n                <label class="login-accound-wrapper">\n                    <span class="account-label">'+e.accountLabel+'</span>\n                    <input id="login-account" valid="present" name="account" type="text" placeholder="'+e.accountPlaceHolder+'" maxlength="'+e.accountMax+'" autocomplete="'+e.autocompleteValue+'">\n                    <span id="clear-account" class="del"></span>\n                </label>\n\n                <label class="login-password-wrapper">\n                    <span class="password-label">'+e.passwordLabel+'</span>\n                    <input id="login-password" valid="present" name="password" type="password" placeholder="'+e.passwordPlaceHolder+'" maxlength="'+e.passwordMax+'" autocomplete="'+r+'">\n                </label>\n\n                <label style="display: none" class="login-verify-wrapper">\n                    <span class="verify-label">验证码：</span>\n                    <input id="login-verify" name="verifyCode" type="text" placeholder="'+e.verifyPlaceHolder+'">\n                    <img src="/verifycode">\n                </label>\n\n                <label class="login-remember-wrapper" style="display: '+n+'">\n                    <span>记住密码：</span>\n                    <input id="login-remember" name="remember" type="checkbox">\n                </label>\n\n                <input id="login-btn" class="login-btn" type="submit" value="'+e.loginBtnText+'">\n            </form>\n            <div class="login-extra-wrapper">\n                <a href="/html/forget.html">忘记密码</a>\n                <a href="/html/register-mobile.html">免费注册</a>\n            </div>\n        </div>'};n.default=function(e){e.container.innerHTML=r(e);var n=document.getElementById("no-autocomplete");n&&(n.style.opacity="0",n.style.height="0")}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){function r(o,a){try{var i=n[o](a),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(n,"__esModule",{value:!0});var a=t(10),i=t(11),s=r(i),c=t(12),l=r(c),u=s.default.domSelector;n.default=function(e){var n=u("#login-btn"),t=u("#login-remember"),r=u("#clear-account"),i=(u("#clear-password"),u("#login-account")),s=u("#login-password"),c=u("#login-error"),p=new l.default({form:document.getElementById("login-form")});n.onclick=o(regeneratorRuntime.mark(function r(){var o,l,u,f,d;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c.innerHTML="",o=p.check(),o.length){r.next=14;break}return n.setAttribute("disabled","disabled"),l="0",t.getAttribute("checked")&&(l="1"),r.next=8,(0,a.fetchPost)("/login",{account:i.value,password:s.value,remember:l});case 8:u=r.sent,console.log(u),200===u.code?(alert("登录成功"),e.success&&e.success()):c.innerHTML=u.message,n.removeAttribute("disabled"),r.next=17;break;case 14:f=o[0].name,d=o[0].type,"present"===d&&("account"===f&&(c.innerHTML="请填写您的用户名"),"password"===f&&(c.innerHTML="请填写您的密码"));case 17:case"end":return r.stop()}},r,void 0)})),r.onclick=function(){i.value="",r.style.display="none"},i.oninput=function(){i.value.length?r.style.display="block":r.style.display="none",c.innerHTML=""},s.oninput=function(){c.innerHTML=""}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,n){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",params:n}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()})},o=function(e,n){return fetch(e,{method:"GET",headers:{},credentials:"include",params:n}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()})};n.fetchPost=r,n.fetchJson=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={domSelector:function(e){return window.document.querySelector(e)},getUrlParams:function(e){var n=location.search.replace(/^\?/,""),t={};return n.split("&").map(function(e){var n=e.split("=");t[n[0]]=n[1]}),e?t[e]:t},obj2query:function(e){if(e){var n=Object.keys(e).filter(function(n){return""!==e[n]&&null!==e[n]}).map(function(n){return n+"="+e[n]}).join("&");return n.length>0?"?"+n:null}},hasClass:function(e,n){return e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))},addClass:function(e,n){e.className.trim(),r.hasClass(e,n)||(e.className+=" "+n)},removeClass:function(e,n){if(r.hasClass(e,n)){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t," ")}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},bindEvent:function(){var e=void 0,n=void 0,t=void 0,r=function n(t,r,o){t!==o&&(document.querySelector(r).className===t.className?e=t:n(t.parentNode,r,o))},o=arguments[0],a=arguments[1];"string"==typeof arguments[2]?(n=arguments[2],"function"==typeof arguments[3]&&(t=arguments[3])):"function"==typeof arguments[2]&&(t=arguments[2]),o.addEventListener(a,function(a){n?n&&(r(a.target,n,o),e&&t.call(e,{target:e})):t.call(o,a)})}};n.default=r},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(e){return"您填写的"+e+"格式不正确"},i={email:function(e){if(!e.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return{type:"email",message:a("邮箱")}},mobile:function(e){if(!e.match(/^1(3|4|5|7|8)\d{9}$/))return{type:"mobile",message:a("手机号")}},IDcard:function(e){return{type:"IDcard",message:a("身份证号")}},present:function(e){if(!e.trim())return{type:"present",message:"必填"}}},s=function(){function e(n){r(this,e),this.opts=n}return o(e,[{key:"check",value:function(e){var n=this.opts.form.elements||document.getElementById(this.opts.form).elements,t=[];return Array.from(n).filter(function(e){return e.getAttribute("valid")}).map(function(e){var n=e.getAttribute("valid").split(", "),r=e.value,o=[];n.forEach(function(e){if(i[e]){var n=i[e](r);n&&o.push(n)}}),o.length&&t.push({dom:e,errorArr:o,name:e.name,message:o[0].message,type:o[0].type})}),t}}]),e}();n.default=s}])});