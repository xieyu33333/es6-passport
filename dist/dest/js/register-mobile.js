!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vendors")):"function"==typeof define&&define.amd?define(["vendors"],t):"object"==typeof exports?exports.pass=t(require("vendors")):e.pass=t(e.vendors)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){e.exports=vendors},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={domSelector:function(e){return window.document.querySelector(e)},getUrlParams:function(e){var t=location.search.replace(/^\?/,""),n={};return t.split("&").map(function(e){var t=e.split("=");n[t[0]]=t[1]}),e?n[e]:n},obj2query:function(e){if(e){var t=Object.keys(e).filter(function(t){return""!==e[t]&&null!==e[t]}).map(function(t){return t+"="+e[t]}).join("&");return t.length>0?"?"+t:null}},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e.className.trim(),r.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(r.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},bindEvent:function(){var e=void 0,t=void 0,n=void 0,r=function t(n,r,i){n!==i&&(document.querySelector(r).className===n.className?e=n:t(n.parentNode,r,i))},i=arguments[0],o=arguments[1];"string"==typeof arguments[2]?(t=arguments[2],"function"==typeof arguments[3]&&(n=arguments[3])):"function"==typeof arguments[2]&&(n=arguments[2]),i.addEventListener(o,function(o){t?t&&(r(o.target,t,i),e&&n.call(e,{target:e})):n.call(i,o)})}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.regMobile=void 0,n(3);var i=n(9),o=r(i),s=n(10),a=r(s),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={mobilePlaceHolder:"请输入您的手机号"},n=Object.assign(t,e);(0,o.default)(n),(0,a.default)(n)};t.regMobile=u},function(e,t,n){"use strict";n(4),n(5),n(6),n(7),n(8)},function(e,t,n){e.exports=n(0)(125)},function(e,t,n){e.exports=n(0)(126)},function(e,t,n){e.exports=n(0)(328)},function(e,t,n){e.exports=n(0)(332)},function(e,t,n){e.exports=n(0)(333)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return'<div id="register-mobile-wrapper" class="register-mobile-wrapper">\n        <form id="register-mobile-form" onsubmit="return false">\n            <label>\n                <span>手机号： </span>\n                <input id="register-mobile-input" name="mobile" type="text" placeholder="'+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mobilePlaceHolder+'" valid="present, mobile">\n            </label>\n            <label>\n                <span>验证： </span>\n                <div id="register-verify-wrapper" class="register-verify-wrapper"></div>\n            </label>\n            <input id="register-verify-btn" class="disabled" disabled type="submit" value="下一步">\n        </form>\n\n        <div class="register-verify-dialog" id="register-verify-dialog">\n            <div class="register-verify-dialog-header">\n                <div class="register-verify-dialog-close" id="register-verify-dialog-close"></div>\n            </div>\n            <p class="register-tip">\n                <img src="../images/tip-fill.png">校验码已发送到你的手机，15分钟内输入有效，请勿泄漏\n            </p>\n            <form id="register-verify-form" onsubmit="return false">\n                <label>\n                    <span>手机号： </span>\n                    <div id="register-verify-mobile"></div>\n                </label>\n                <label>\n                    <span>验证码： </span>\n                    <input type="text" name="verify" id="register-verify-input">\n                </label>\n                <label>\n                    <span>&nbsp;</span>\n                    <div class="register-tip"><img src="../images/ok-fill.png">校验码已发送至你的手机，请查收</div>\n                </label>\n                <input id="register-mobile-btn" class="disabled" disabled type="submit" value="确认">\n            </form>\n        </div>\n    </div>'};t.default=function(e){e.container.innerHTML=r(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var s=t[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),s=r(o),a=n(12),u=n(1),l=r(u),c=n(13),d=r(c),f=l.default.domSelector,p=l.default.removeClass,v=l.default.addClass;t.default=function(e){var t=void 0,n=void 0,r=f("#register-mobile-input"),o=f("#register-verify-input"),u=f("#register-verify-btn"),l=f("#register-mobile-btn"),c=f("#register-verify-mobile"),m=f("#register-verify-dialog"),b=f("#register-verify-dialog-close"),g=new d.default({form:document.getElementById("register-mobile-form")}),y=new s.default({container:document.getElementById("register-verify-wrapper"),success:function(){var e=i(regeneratorRuntime.mark(function e(n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fetchPost)("/getMobileVerifyToken",{});case 2:i=e.sent,200===i.code?(t=i.mobileVerifyToken,v(n,"success"),r.innerText="验证成功"):(v(n,"failed"),r.innerText="验证失败"),u.removeAttribute("disabled"),p(u,"disabled");case 6:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}()});u.onclick=i(regeneratorRuntime.mark(function e(){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.check(),!n.length){e.next=6;break}i=n[0].type,"present"===i?alert("请填写您的手机号"):"mobile"===i&&alert("请填写正确的手机号"),e.next=10;break;case 6:return e.next=8,(0,a.fetchPost)("/register/getVerifyCode",{mobile:r.value,mobileVerifyToken:t});case 8:o=e.sent,200===o.code&&(m.style.display="block",c.innerText=o.mobile,t="",y.reset());case 10:case"end":return e.stop()}},e,void 0)})),b.onclick=function(){m.style.display="none",t="",y.reset()},o.oninput=function(){var e=o.value;o.value=e.replace(/\D/g,""),o.value.length>5?(l.removeAttribute("disabled"),p(l,"disabled"),v(l,"btn-primary"),e.length>6&&(o.value=e.substring(0,6))):(p(l,"btn-primary"),v(l,"disabled"),l.setAttribute("disabled","disabled"))},l.onclick=i(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.fetchPost)("/register/mobile",{mobile:c.innerText,verifyCode:o.value,mobileVerifyToken:t});case 2:r=n.sent,200===r.code?e.success&&e.success():alert("验证码输入错误");case 4:case"end":return n.stop()}},n,void 0)}))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=s.default.domSelector,u=Symbol("render"),l=Symbol("bindEvent"),c=function(){function e(t){if(r(this,e),this.opts=t,!t.container)throw"请填写container配置";this[u](t),this[l](t)}return i(e,[{key:u,value:function(e){var t=e.unsuccessTip||"请按住滑块，拖动到最右边",n='<style>\n    .vs-wrapper {\n        position: relative;\n        width: 100%;\n        height: 100%;\n    }\n\n    .vs-moved-bg {\n        background: green;\n        width: 0;\n        position: absolute;\n        z-index: 999;\n        height: 100%;\n    }\n\n    .vs-unmoved-bg {\n        background: gray;\n        width: 100%;\n        position:absolute\n        z-index: 998;\n        height: 100%;\n    }\n\n    .vs-text {\n        position: absolute;\n        width: 100%;\n        top: 0;\n        z-index: 1000;\n        backgound: rgba(0,0,0,0);\n        text-align: center;\n    }\n\n    .vs-move-btn {\n        height: 100%;\n        width: 30px;\n        background: #333333;\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 1001;\n    }\n</style>\n            <div id="vs-wrapper" class="vs-wrapper">\n                <div id="vs-moved-bg" class="vs-moved-bg"></div>\n                <span id="vs-move-btn" class="vs-move-btn"></span>\n                <div id="vs-unmoved-bg" class="vs-unmoved-bg"></div>\n                <span id="vs-text" class="vs-text" ondrag="return false;">'+t+"</span>\n            </div>\n        ";e.container.innerHTML=n}},{key:l,value:function(e){var t=this,n=a("#vs-move-btn"),r=a("#vs-moved-bg"),i=a("#vs-wrapper"),o=a("#vs-text"),s=function(){t.startX=0,t.start=!1,t.end=!1,n.style.left="0px",r.style.width="0px"};n.onmousedown=function(e){t.startX=e.pageX,t.start=!0},window.onmousemove=function(s){if(t.start&&!t.end){var a=s.pageX-t.startX,u=r.offsetLeft+parseInt(window.getComputedStyle(r).width),l=parseInt(window.getComputedStyle(i).width)-parseInt(window.getComputedStyle(n).width);n.style.left=a+"px",r.style.width=a+"px",u>=l&&(t.end=!0,t.start=!1,n.style.left=l+"px",r.style.width=l+"px",e.success&&e.success(i,o))}},window.onmouseup=function(e){t.end||s()}}},{key:"reset",value:function(){this[u](this.opts),this[l](this.opts)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",params:t}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()})},i=function(e,t){return fetch(e,{method:"GET",headers:{},credentials:"include",params:t}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()})};t.fetchPost=r,t.fetchJson=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return"您填写的"+e+"格式不正确"},s={email:function(e){if(!e.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return{type:"email",message:o("邮箱")}},mobile:function(e){if(!e.match(/^1(3|4|5|7|8)\d{9}$/))return{type:"mobile",message:o("手机号")}},IDcard:function(e){return{type:"IDcard",message:o("身份证号")}},present:function(e){if(!e.trim())return{type:"present",message:"必填"}}},a=function(){function e(t){r(this,e),this.opts=t}return i(e,[{key:"check",value:function(e){var t=this.opts.form.elements||document.getElementById(this.opts.form).elements,n=[];return Array.from(t).filter(function(e){return e.getAttribute("valid")}).map(function(e){var t=e.getAttribute("valid").split(", "),r=e.value,i=[];t.forEach(function(e){if(s[e]){var t=s[e](r);t&&i.push(t)}}),i.length&&n.push({dom:e,errorArr:i,name:e.name,message:i[0].message,type:i[0].type})}),n}}]),e}();t.default=a}])});